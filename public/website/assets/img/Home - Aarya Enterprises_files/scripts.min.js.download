!function(p){"use strict";var m=m||{};m.init=function(){m.$body=p(document.body),m.$window=p(window),m.$header=p("#site-header"),this.preLoader(),this.newLetterPopup(),this.stickyHeader(),this.productSearchLabel(),this.headerMenu(),this.megaMenu(),this.instanceSearch(),this.topPromotion(),this.mobileMenu(),this.userMobileMenu(),this.headerIE(),this.headerRecentlyProducts(),this.pageHeaderParallax(),this.postEntryFormat(),this.singleEntryFormat(),this.blogLoadingAjax(),this.relatedPost(),this.blogLayout(),this.lazyLoad(),this.backToTop(),this.catalogBanners(),this.productsTopCarousel(),this.collapseTheFilter(),this.productCategoriesWidget(),this.toolTipIcon(),this.searchLayeredNav(),this.productAttribute(),this.shopView(),this.addWishlist(),this.addCompare(),this.productQuickView(),this.variationImagesCarousel(),this.productTopCategories(),this.filterAjax(),this.catalogOpenCartMini(),this.productsLoadInfinite(),this.hoverProductTabs(),this.productQuantity(),this.productThumbnail(),this.productVideo(),this.productGallery(),this.productDegree(),this.singleProductCarousel(),this.fbtProduct(),this.fbtAddToCartAjax(),this.fbtAddToWishlistAjax(),this.instagramCarousel(),this.productVatiation(),this.productVariationVideo(),this.addToCartAjax(),this.stickyProductInfo(),this.loginTabs(),this.buyNow(),this.wooTabToggle(),this.productMultiVendors(),this.recentlyFooterViewedProducts(),this.cartQuantity(),this.filterOnMobile(),this.navigationMobile(),this.footerDropdown(),this.catalogSorting(),this.wcfm(),p(document.body).on("martfury_get_products_ajax_success",function(){m.toolTipIcon(),p(document.body).trigger("yith_wcwl_init")})},m.isIEVersion=function(){var t=window.navigator.userAgent,e=!1,i=t.indexOf("MSIE ");if(0<i&&(e=parseInt(t.substring(i+5,t.indexOf(".",i)),10)),0<t.indexOf("Trident/")){var a=t.indexOf("rv:");e=parseInt(t.substring(a+3,t.indexOf(".",a)),10)}return e},m.headerIE=function(){if(m.isIEVersion()){var t,e=m.$header.find(".header-extras"),i=e.find(".product-extra-search"),a=e.find(".extras-menu"),o=e.width();t=88-a.outerWidth(!0)/o*100+"%",i.width(t)}},m.preLoader=function(){m.$body.hasClass("mf-preloader")&&(m.$body.hasClass("elementor-editor-active")?p("#martfury-preloader").addClass("fade-in"):(NProgress.start(),m.$window.on("load",function(){NProgress.done(),p("#martfury-preloader").addClass("fade-in")})))},m.stickyHeader=function(){if(m.$body.hasClass("sticky-header")){var t=0,e=m.$header.find(".header-main-wapper"),i=e.outerHeight()-18,a=p("#top-promotion"),o=0<a.length?a.outerHeight(!0):0,n=p("#topbar"),r=0<n.length?n.outerHeight(!0):0,s=m.$header.outerHeight(!0);m.$body.outerHeight(!0)<=(t=r+o+s)+m.$window.height()||m.$window.on("scroll",function(){0<a.length&&a.hasClass("invisible")&&(t=s+r),m.$window.scrollTop()>t?(m.$header.addClass("minimized"),e.css({"padding-top":i})):(m.$header.removeClass("minimized"),e.removeAttr("style"))})}},m.topPromotion=function(){var e=p("#top-promotion");e.length<1||e.on("click",".close",function(t){t.preventDefault(),e.slideUp().addClass("invisible")})},m.mobileMenu=function(){var e=p("#mf-els-modal-mobile").find(".primary-mobile-nav");function i(t){t.closest("li").siblings().find("ul").slideUp(),t.closest("li").siblings().removeClass("active"),t.closest("li").siblings().find("li").removeClass("active"),t.closest("li").children("ul").slideToggle(),t.closest("li").toggleClass("active")}m.$body.hasClass("mobile-version")||(e=p("#primary-mobile-nav")),m.$header.on("click","#mf-toggle-menu",function(t){t.preventDefault(),m.$body.toggleClass("display-mobile-menu"),e.find("li").removeClass("active")}),e.find(".menu .menu-item-has-children > a").prepend('<span class="toggle-menu-children"><i class="icon-plus"></i> </span>'),m.$body.hasClass("submenus-mobile-icon")?e.on("click",".toggle-menu-children",function(t){t.preventDefault(),i(p(this))}):e.on("click",".menu-item-has-children > a",function(t){t.preventDefault(),i(p(this))}),e.on("click",".close-canvas-mobile-panel",function(t){t.preventDefault(),m.$body.removeClass("display-mobile-menu")}),p("#mf-off-canvas-layer").on("click",function(t){t.preventDefault(),m.$body.removeClass("display-mobile-menu mb-filter-active mf-filter-active"),p("#navigation-mobile_cat").removeClass("active"),p("#mf-navigation-mobile").find(".navigation-mobile_search").removeClass("active"),p("#mf-navigation-mobile").find(".navigation-mobile_cart").removeClass("active")}),m.$window.on("resize",function(){1200<m.$window.width()&&m.$body.removeClass("display-mobile-menu")})},m.navigationMobile=function(){var i=p("#mf-els-modal-mobile"),a=p("#mf-search-mobile"),e=p("#primary-mobile-nav"),o=p("#mf-category-mobile-nav"),n=p("#mf-cart-mobile"),r=i.find(".mf-els-item");function s(t,e){i.removeClass("open"),m.$body.removeClass("navigation-mobile-active"),r.removeClass("current"),e.addClass("current"),t.hasClass("active")?(i.removeClass("open"),t.removeClass("active"),m.$body.removeClass("navigation-mobile-active")):(i.addClass("open"),t.addClass("active"),m.$body.addClass("navigation-mobile-active"))}p("#mf-navigation-mobile").on("click",".navigation-mobile_cat",function(t){t.preventDefault();var e=p(this);e.closest(".navigation-list").find(".navigation-mobile_search, .navigation-mobile_cart").removeClass("active"),s(e,o)}),p("#mf-navigation-mobile").on("click",".navigation-mobile_search",function(t){t.preventDefault();var e=p(this);e.closest(".navigation-list").find(".navigation-mobile_cat, .navigation-mobile_cart").removeClass("active"),s(e,a)}),m.$header.on("click","#site-header-category--mobile",function(t){t.preventDefault(),r.removeClass("current"),e.addClass("current"),i.addClass("open"),m.$body.addClass("navigation-mobile-active")}),p("#mf-off-canvas-layer").on("click",function(t){t.preventDefault(),m.$body.removeClass("navigation-mobile-active"),i.removeClass("open"),o.removeClass("current")}),n.on("click",".close-cart-mobile",function(t){t.preventDefault(),m.$body.removeClass("navigation-mobile-active"),i.removeClass("open"),n.removeClass("current"),p("#mf-navigation-mobile").find(".navigation-mobile_cart").removeClass("active")}),i.find(".primary-mobile-nav").on("click",".close-mobile-nav",function(t){t.preventDefault(),m.$body.removeClass("navigation-mobile-active"),i.removeClass("open"),p("#navigation-mobile_cat").removeClass("active")}),m.$body.hasClass("cart-panel-mobile")&&(p("#mf-navigation-mobile").on("click",".navigation-mobile_cart",function(t){t.preventDefault();var e=p(this);e.closest(".navigation-list").find(".navigation-mobile_search, .navigation-mobile_cat").removeClass("active"),s(e,n)}),m.$header.on("click","#icon-cart-contents",function(t){t.preventDefault(),r.removeClass("current"),n.addClass("current"),i.addClass("open"),p("#mf-navigation-mobile").find(".navigation-mobile_cart").addClass("active"),m.$body.addClass("navigation-mobile-active")}))},m.userMobileMenu=function(){var t=p("#primary-user-nav");t.length<1||(m.$window.on("resize",function(){m.$window.width()<1200?m.$body.addClass("canvas-menu-mobile"):m.$body.removeClass("canvas-menu-mobile")}).trigger("resize"),m.$header.find(".menu-item-account.logined").on("click","a",function(t){m.$body.hasClass("canvas-menu-mobile")&&(t.preventDefault(),m.$body.toggleClass("display-user-mobile"))}),t.on("click",".close-canvas-mobile-panel",function(t){t.preventDefault(),m.$body.removeClass("display-user-mobile")}),p("#mf-off-canvas-layer").on("click",function(t){t.preventDefault(),m.$body.removeClass("display-user-mobile")}))},m.newLetterPopup=function(){var e=p("#mf-newsletter-popup"),i=parseInt(martfuryData.nl_days),t=parseInt(martfuryData.nl_seconds);function a(t){var e=new Date,i=e.getTime();e.setTime(e.getTime()+24*t*60*60*1e3),document.cookie="mf_newletter="+i+";expires="+e.toGMTString()+";path=/"}0<i&&document.cookie.match(/^(.*;)?\s*mf_newletter\s*=\s*[^;]+(.*)?$/)||e.length<1||(m.$window.on("load",function(){setTimeout(function(){e.addClass("open")},1e3*t)}),e.on("click",".close-modal",function(t){t.preventDefault(),a(i),e.removeClass("open"),e.fadeOut()}),e.on("click",".n-close",function(t){t.preventDefault(),a(30),e.removeClass("open"),e.fadeOut()}),e.find(".mc4wp-form").submit(function(){a(i)}),e.find(".formkit-form").submit(function(){a(i)}))},m.backToTop=function(){var t=p("#scroll-top");m.$window.scroll(function(){m.$window.scrollTop()>m.$window.height()?t.addClass("show-scroll"):t.removeClass("show-scroll")}),t.on("click",function(t){t.preventDefault(),p("html, body").stop().animate({scrollTop:0},800)})},m.headerMenu=function(){if(!(m.$body.hasClass("header-layout-3")||m.$body.hasClass("header-layout-1")||m.$header.find(".products-cats-menu").length<1)){var t=m.$header.find(".products-cats-menu").position().left;if("true"===martfuryData.direction){var e=m.$header.find(".header-logo").width()-t-m.$header.find(".products-cats-menu").width()+15;m.$header.find(".toggle-product-cats").css({right:-1*e})}else m.$header.find(".toggle-product-cats").css({left:-1*t})}},m.megaMenu=function(){m.$header.find(".primary-nav .menu-item.is-mega-menu").each(function(){var t=p(this).children(".dropdown-submenu").width(),e=p(this).closest(".col-header-menu").width(),i=p(this).outerWidth(),a=p(this).position().left+i/2-t/2;e-p(this).position().left+i/2-t/2<0?p(this).removeClass("has-width").addClass("align-right"):a<0&&p(this).removeClass("has-width").addClass("align-left")})},m.productSearchLabel=function(){m.$header.on("change","#header-search-product-cat",function(){var t=p(this).find("option:selected").text().trim();m.$header.find(".product-cat-label").html(t)}),m.$header.find(".products-search").submit(function(){"0"==p(this).find("#header-search-product-cat").val()&&p(this).find("#header-search-product-cat").removeAttr("name")})},m.postEntryFormat=function(){m.$body.hasClass("mf-blog-page")&&(p(".blog-wapper").find(".entry-format").find(".slides").not(".slick-initialized").slick({rtl:"true"===martfuryData.direction,slidesToShow:1,slidesToScroll:1,infinite:!1,prevArrow:'<span class="ion-ios-arrow-left slick-prev-arrow"></span>',nextArrow:'<span class="ion-ios-arrow-right slick-next-arrow"></span>'}),p(".blog-wapper").find(".entry-format").fitVids({customSelector:"iframe, video"}))},m.toolTipIcon=function(){function t(){p(".mf-product-thumbnail, .mf-single-product:not(.mf-product-layout-3)").find("[data-rel=tooltip]").tooltip({classes:{"ui-tooltip":"martfury-tooltip"},tooltipClass:"martfury-tooltip",position:{my:"center bottom",at:"center top-13"},create:function(){p(".ui-helper-hidden-accessible").remove()}})}p(".catalog-sidebar").find("[data-rel=tooltip]").tooltip({classes:{"ui-tooltip":"martfury-tooltip"},tooltipClass:"martfury-tooltip",position:{my:"center bottom",at:"center top-13"},create:function(){p(".ui-helper-hidden-accessible").remove()}}),t(),p(document).on("yith_wcwl_fragments_loaded",function(){t()}),p(document.body).on("removed_from_wishlist",function(){t()}),p(document.body).on("added_to_wishlist",function(){t()}),p(".mf-product-thumbnail, .mf-single-product:not(.mf-product-layout-3)").find(".compare").tooltip({content:function(){return p(this).html()},classes:{"ui-tooltip":"martfury-tooltip"},tooltipClass:"martfury-tooltip",position:{my:"center bottom",at:"center top-13"},create:function(){p(".ui-helper-hidden-accessible").remove()}}),p(document.body).on("added_to_cart",function(){p(".mf-product-thumbnail").find(".added_to_cart").tooltip({offsetTop:-15,content:function(){return p(this).html()},classes:{"ui-tooltip":"martfury-tooltip"},tooltipClass:"martfury-tooltip",position:{my:"center bottom",at:"center top-13"},create:function(){p(".ui-helper-hidden-accessible").remove()}})})},m.variationImagesCarousel=function(){p(".woocommerce ul.products li.product").find(".mf-attr-swatches-slick").not(".slick-initialized").slick({rtl:"true"===martfuryData.direction,slidesToShow:3,slidesToScroll:3,infinite:!1,prevArrow:'<span class="icon-chevron-left slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-right  slick-next-arrow"></span>'})},m.addWishlist=function(){m.$body.on("click","a.add_to_wishlist",function(){p(this).addClass("loading")}),m.$body.on("added_to_wishlist removed_from_wishlist cart_page_refreshed",function(){var t=wc_add_to_cart_params.wc_ajax_url.toString().replace("%%endpoint%%","update_wishlist_count");p.post(t,function(t){m.$header.find(".menu-item-wishlist .mini-item-counter").html(t)})}),p(document).on("yith_wcwl_fragments_loaded",function(){m.$body.hasClass("single-product")&&(m.$body.find("#mf-product-fbt").length<0||m.$body.find("#mf-product-fbt").find("a.add_to_wishlist").addClass("fbt-wishlist"))});var o=0;m.$body.on("added_to_wishlist",function(t,e){if(t.preventDefault(),p("ul.products li.product .yith-wcwl-add-button a").removeClass("loading"),!m.$body.hasClass("single-product")||!e.hasClass("fbt-wishlist")){var i=parseInt(e.data("product-id"));if(i!=o){o=i;var a=e.data("product-title");m.addedToWishlistNotice("",a,!1,"success")}}})},m.addedToWishlistNotice=function(t,e,i,a,o){void 0!==martfuryData.added_to_wishlist_notice&&p.fn.notify&&(e+=o?" "+martfuryData.added_to_wishlist_notice.added_to_wishlist_texts:" "+martfuryData.added_to_wishlist_notice.added_to_wishlist_text,t+='<a href="'+martfuryData.added_to_wishlist_notice.wishlist_view_link+'" class="btn-button">'+martfuryData.added_to_wishlist_notice.wishlist_view_text+"</a>",i&&(t='<div class="message-box">'+t+"</div>"),p.notify.addStyle("martfury",{html:'<div><i class="icon-checkmark-circle message-icon"></i><span data-notify-text/>'+t+'<span class="close icon-cross2"></span> </div>'}),p.notify(e,{autoHideDelay:martfuryData.added_to_wishlist_notice.wishlist_notice_auto_hide,className:a,style:"martfury",showAnimation:"fadeIn",hideAnimation:"fadeOut"}))},m.addCompare=function(){m.$body.on("click","a.compare:not(.added)",function(t){t.preventDefault();var e=p(this);e.addClass("loading"),e.closest(".product-inner").find(".compare:not(.loading)").trigger("click");var i=!1;if(p(this).hasClass("added")&&(i=!0),!1===i){var a=m.$header.find("#mini-compare-counter").html();a=parseInt(a,10)+1,setTimeout(function(){m.$header.find("#mini-compare-counter").html(a)},2e3)}}),p(document).find(".compare-list").on("click",".remove a",function(t){t.preventDefault();var e=p("#mini-compare-counter",window.parent.document).html();(e=parseInt(e,10)-1)<0&&(e=0),p("#mini-compare-counter",window.parent.document).html(e)}),p(".yith-woocompare-widget").on("click","li a.remove",function(t){t.preventDefault();var e=$header.find("#mini-compare-counter").html();(e=parseInt(e,10)-1)<0&&(e=0),setTimeout(function(){$header.find("#mini-compare-counter").html(e)},2e3)}),p(".yith-woocompare-widget").on("click","a.clear-all",function(t){t.preventDefault(),setTimeout(function(){$header.find("#mini-compare-counter").html("0")},2e3)})},m.productQuantity=function(){m.$body.on("click",".quantity .increase, .quantity .decrease",function(t){t.preventDefault();var e=p(this),i=e.siblings(".qty"),a=parseInt(i.val(),10),o=parseInt(i.attr("min"),10),n=parseInt(i.attr("max"),10),r=parseInt(i.attr("step"));o=o||1,n=n||a+1,e.hasClass("decrease")&&o<a&&(i.val(a-r),i.trigger("change")),e.hasClass("increase")&&a<n&&(i.val(a+r),i.trigger("change"))})},m.productThumbnail=function(){var e=p(".woocommerce-product-gallery"),i=e.find(".woocommerce-product-gallery__image.mf-product-video"),a=e.find(".flex-control-thumbs");m.$window.on("load",function(){p(".woocommerce-product-gallery").find(".woocommerce-product-gallery__image").each(function(){if(p(this).find("img").hasClass("lazy")){var t=p(this).find("img").data("original");p(this).find("img").attr("src",t)}})}),e.imagesLoaded(function(){setTimeout(function(){if(0<i.length&&(p(".woocommerce-product-gallery").addClass("has-video"),p(".woocommerce-product-gallery").hasClass("video-first")?a.find("li").first().append('<i class="i-video ion-play"></i>'):a.find("li").last().append('<i class="i-video ion-play"></i>')),!(m.$body.hasClass("mobile-version")||a.length<1)){var t=e.data("columns");t<a.find("li").length?p(".mf-single-product").hasClass("mf-product-sidebar")?a.not(".slick-initialized").slick({slidesToShow:t,focusOnSelect:!0,slidesToScroll:1,infinite:!1,prevArrow:'<span class="icon-chevron-left slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-right slick-next-arrow"></span>'}):(a.not(".slick-initialized").slick({slidesToShow:t,slidesToScroll:1,focusOnSelect:!0,vertical:!0,infinite:!1,prevArrow:'<span class="icon-chevron-up slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-down slick-next-arrow"></span>',responsive:[{breakpoint:768,settings:{slidesToShow:4}},{breakpoint:480,settings:{slidesToShow:3}}]}),a.find("li.slick-current").trigger("click")):a.addClass("no-slick")}},100)})},m.productVideo=function(){var o=p(".woocommerce-product-gallery"),t=o.find(".woocommerce-product-gallery__image.mf-product-video"),e=o.find(".flex-control-thumbs");if(!(t.length<1)){var n=!1,r=!1;e.on("click","li",function(){var t=o.find(".mf-product-video"),e=p(this).siblings().length;if(r=!0,p(this).index()==e&&(n=r=!1),!n&&r){var i=t.find("iframe"),a=t.find("video.wp-video-shortcode");0<i.length&&i.attr("src",i.attr("src")),0<a.length&&a[0].pause(),n=!0}return!1}),e.find("li").on("click",".i-video",function(t){t.preventDefault(),p(this).closest("li").find("img").trigger("click")})}},m.productGallery=function(){var t=p(".woocommerce-product-gallery");void 0!==martfuryData.product_gallery&&"1"==martfuryData.product_gallery?t.length&&(t.find(".woocommerce-product-gallery__image").on("mouseenter",function(){p(this).closest(".woocommerce-product-gallery").find(".ms-image-view").removeClass("hide"),p(this).closest(".woocommerce-product-gallery").find(".ms-image-zoom").addClass("hide")}),t.find(".woocommerce-product-gallery__image").on("mouseleave",function(){p(this).closest(".woocommerce-product-gallery").find(".ms-image-view").addClass("hide"),p(this).closest(".woocommerce-product-gallery").find(".ms-image-zoom").removeClass("hide")}),t.on("click",".woocommerce-product-gallery__image",function(t){if(t.preventDefault(),p(this).hasClass("mf-product-video"))return!1;var e=[],i=p(this).closest(".woocommerce-product-gallery").find(".woocommerce-product-gallery__image");i.each(function(){var t=p(this);t.hasClass("mf-product-video")?e.push({html:t.find(".mf-video-content").html()}):e.push({src:t.children("a").attr("href"),w:t.find("img").attr("data-large_image_width"),h:t.find("img").attr("data-large_image_height")})});var a={index:i.index(p(this)),bgOpacity:.85,showHideOpacity:!0,mainClass:"pswp--minimal-dark",barsSize:{top:0,bottom:0},captionEl:!1,fullscreenEl:!1,shareEl:!1,tapToClose:!0,tapToToggleControls:!1},o=new PhotoSwipe(document.getElementById("pswp"),window.PhotoSwipeUI_Default,e,a);o.init(),o.listen("close",function(){p(".mf-video-wrapper").find("iframe").each(function(){p(this).attr("src",p(this).attr("src"))}),p(".mf-video-wrapper").find("video").each(function(){p(this)[0].pause()})})})):t.on("click",".woocommerce-product-gallery__image",function(t){t.preventDefault()})},m.productDegree=function(){if(void 0!==martfuryData.product_degree){var t=p(".woocommerce-product-gallery .product-degree-images");if(!(t.length<1||martfuryData.product_degree.length<1)){var o="",n=p("#product-degree-pswp");t.on("click",function(t){if(t.preventDefault(),m.openModal(n),!n.hasClass("init")){n.addClass("init");for(var e=martfuryData.product_degree.split(","),i=[],a=0;a<e.length;a++)i.push(e[a]);o=n.find(".mf-product-gallery-degree").ThreeSixty({totalFrames:i.length,endFrame:i.length,currentFrame:1,imgList:n.find(".product-degree-images"),progress:".mf-gallery-degree-spinner",imgArray:i,height:500,width:830,navigation:!0}),n.find(".product-degree-images").imagesLoaded(function(){n.find(".nav_bar").removeClass("hide")}),n.on("click",".degree-pswp-close, .degree-pswp-bg",function(){o.stop(),p(this).removeClass("play")})}}),n.on("click",".degree-pswp-close, .degree-pswp-bg",function(){m.closeModal(n)})}}},m.cartQuantity=function(){m.$body.hasClass("woocommerce-cart")&&"1"==martfuryData.quantity_ajax&&(m.$body.on("click",".quantity .increase, .quantity .decrease",function(t){t.preventDefault(),m.$body.find('button[name="update_cart"]').trigger("click")}),m.$body.on("keyup",".quantity .qty",function(t){t.preventDefault(),m.$body.find('button[name="update_cart"]').trigger("click")}))},m.openModal=function(t){t.fadeIn(),t.addClass("open")},m.closeModal=function(t){t.fadeOut(function(){p(this).removeClass("open")})},m.hoverProductTabs=function(){var t,e,i,a,o,n=p(".mf-single-product .woocommerce-tabs").find("ul.wc-tabs");if(!(n.length<1)){n.append('<li id="tl-wc-tab" class="tl-wc-tab"></li>');var r=p("#tl-wc-tab");o=n.children("li.active").outerWidth(),r.width(o).css("left",n.children("li.active").position().left).data("origLeft",r.position().left).data("origWidth",r.width()),a=r.data("origWidth"),n.children("li").on("mouseenter",function(){t=p(this),i=t.outerWidth(),e=t.position().left,r.stop().animate({left:e,width:i})}),n.children("li").on("mouseleave",function(){r.stop().animate({left:r.data("origLeft"),width:a})}),n.on("click","li",function(){t=p(this),a=i=t.outerWidth(),e=t.position().left,r.stop().animate({left:e,width:i}),r.data("origLeft",e).data("origWidth",i)})}},m.searchLayeredNav=function(){var t=p(".mf-widget-layered-nav");t.length<1||(t.find(".mf-widget-layered-nav-scroll").each(function(){var t=p(this).data("height");p(this).height()>parseInt(t)&&p(this).slimScroll({height:t,railVisible:!0,alwaysVisible:!0,size:"6px",color:"#666",railColor:"#ccc",railOpacity:1})}),t.on("keyup",".mf-input-search-nav",function(t){var e=!1;if(void 0===t.which?e=!0:"number"==typeof t.which&&0<t.which&&(e=!t.ctrlKey&&!t.metaKey&&!t.altKey),e){var i=p(this).val();"number"==typeof i&&(i=""+i);var a=i.toUpperCase(),o=p(this).closest(".mf-widget-layered-nav"),n=o.find(".woocommerce-widget-layered-nav-list");n.children(".wc-layered-nav-term").each(function(){var t=p(this).find("a").data("title");"number"==typeof t&&(t=""+t),-1<(t=t.toUpperCase()).indexOf(a)?p(this).show():p(this).hide()});var r=n.data("height");n.height()<parseInt(r)?o.addClass("no-scroll"):o.removeClass("no-scroll")}}))},m.instanceSearch=function(){if("1"==martfuryData.ajax_search){var c=null,l={},i=m.$body.find("form.products-search");i.on("keyup",".search-field",function(t){var e=!1;if(void 0===t.which?e=!0:"number"==typeof t.which&&0<t.which&&(e=!t.ctrlKey&&!t.metaKey&&!t.altKey),e){c&&c.abort();var i=p(this).closest(".products-search");i.find("input.search-field").val().length<2&&i.removeClass("searching searched actived found-products found-no-product invalid-length"),a(i)}}).on("change","#header-search-product-cat",function(){c&&c.abort(),a(p(this).closest(".products-search"))}).on("focusout",".search-field",function(){var t=p(this).closest(".products-search");t.find("input.search-field").val().length<2&&t.removeClass("searching searched actived found-products found-no-product invalid-length")}),p(document).on("click",function(t){if(i.hasClass("actived")){var e=t.target;p(e).closest(".products-search").length<1&&i.removeClass("searching searched actived found-products found-no-product invalid-length")}})}function a(i){var t=i.find("input.search-field").val(),e=0,a=i.find(".search-results");if(0<i.find("#header-search-product-cat").length&&(e=i.find("#header-search-product-cat").val()),t.trim().length<2)i.removeClass("searching found-products found-no-product").addClass("invalid-length");else{i.removeClass("found-products found-no-product").addClass("searching");var o=t+e;if(o in l){var n=l[o];i.removeClass("searching"),i.addClass("found-products"),a.html(n.products),p(document.body).trigger("martfury_ajax_search_request_success",[a]),i.removeClass("invalid-length"),i.addClass("searched actived")}else{var r={term:t,nonce:martfuryData.nonce,cat:e,search_type:martfuryData.search_content_type},s=martfuryData.wc_ajax_url.toString().replace("%%endpoint%%","martfury_search_products");c=p.post(s,r,function(t){var e=t.data;!function(t,e,i,a){t.removeClass("searching"),t.addClass("found-products"),e.html(i),t.removeClass("invalid-length"),p(document.body).trigger("martfury_ajax_search_request_success",[e]),l[a]={found:!0,products:i},t.addClass("searched actived")}(i,a,e,o)})}}}},m.singleEntryFormat=function(){if(m.$body.hasClass("single-post")){var t=p("#mf-single-entry-format");t.find(".slides").not(".slick-initialized").slick({rtl:"true"===martfuryData.direction,slidesToShow:1,slidesToScroll:1,infinite:!1,prevArrow:'<span class="ion-ios-arrow-left slick-prev-arrow"></span>',nextArrow:'<span class="ion-ios-arrow-right slick-next-arrow"></span>'}),t.fitVids({customSelector:"iframe, video"})}},m.blogLayout=function(){m.$body.hasClass("blog-layout-masonry")&&m.$body.imagesLoaded(function(){m.$body.find(".mf-post-list").isotope({itemSelector:".blog-wapper",layoutMode:"masonry"})})},m.relatedPost=function(){if(m.$body.hasClass("single-post")){var t=p("#mf-related-posts").find(".related-posts-list");t.not(".slick-initialized").slick({rtl:"true"===martfuryData.direction,slidesToShow:3,slidesToScroll:1,dots:!0,infinite:!1,arrows:!1,responsive:[{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:480,settings:{slidesToShow:1}}]}),t.on("afterChange",function(){m.lazyLoad()})}},m.blogLoadingAjax=function(){m.$window.on("scroll",function(){m.$body.find("#mf-infinite-loading").is(":in-viewport")&&m.$body.find("#mf-infinite-loading").trigger("click")}).trigger("scroll"),m.$body.on("click","#mf-infinite-loading",function(t){if(t.preventDefault(),!p(this).data("requestRunning")){p(this).data("requestRunning",!0);var a=m.$body.find(".mf-post-list"),o=p(this).parents(".navigation");p.get(p(this).closest(".page-numbers").attr("href"),function(t){var e=p(t).find(".mf-post-list").children(".blog-wapper"),i=p(t).find(".navigation").html();o.html(i),a.append(e),o.find("a").data("requestRunning",!1),m.lazyLoad(),m.postEntryFormat()})}})},m.pageHeaderParallax=function(){if(p(".page-header").hasClass("page-header-sliders")){var t=p(".page-header-sliders"),e=t.data("speed"),i=t.data("auto");t.find("ul").not(".slick-initialized").slick({rtl:"true"===martfuryData.direction,slidesToShow:1,slidesToScroll:1,infinite:!0,autoplaySpeed:e,autoplay:i,arrows:!1}),t.on("click",".slick-prev-arrow",function(){t.find("ul").slick("slickPrev")}),t.on("click",".slick-next-arrow",function(){t.find("ul").slick("slickNext")})}},m.lazyLoad=function(){m.$body.find("img.lazy").lazyload({load:function(){p(this).removeClass("lazy")}}),m.$window.on("load",function(){p(".mf-products-list-carousel").find("img.lazy").lazyload({load:function(){p(this).removeClass("lazy")}}).trigger("appear")})},m.recentlyFooterViewedProducts=function(){function o(e){if(!(e.length<1)&&e.hasClass("load-ajax")&&!e.hasClass("loaded")){var t={nonce:martfuryData.nonce},i=martfuryData.wc_ajax_url.toString().replace("%%endpoint%%","martfury_footer_recently_viewed");p.post(i,t,function(t){e.html(t.data),e.find(".product-list").hasClass("no-products")&&e.addClass("no-products"),m.lazyLoad(),m.recentlyViewedCarousel(e),e.addClass("loaded")})}}!function(){var t=p("#footer-recently-viewed");if(t.length<1)return;t.hasClass("load-ajax")?o(t):(m.recentlyViewedCarousel(t),m.lazyLoad())}(),function(){var t=p("#footer-history-products"),e=!0,i=p("#footer-bot-recently-viewed"),a=p("#mf-off-canvas-layer");if(t.length<1)return;t.on("click",".recently-title",function(t){t.preventDefault(),i.addClass("load-ajax"),a.toggleClass("opened"),i.slideToggle(400,function(){e&&(o(i),e=!1)}),p(this).toggleClass("active")}),a.on("click",function(){a.removeClass("opened"),t.find(".recently-title").removeClass("active"),i.slideUp(400)})}()},m.headerRecentlyProducts=function(){var e,t,i,a=p("#header-recently-viewed");a.length<1||(a.hasClass("load-ajax")?(e=a,t={nonce:martfuryData.nonce},i=martfuryData.wc_ajax_url.toString().replace("%%endpoint%%","martfury_header_recently_viewed"),p.post(i,t,function(t){e.html(t.data),e.find(".product-list").hasClass("no-products")&&e.addClass("no-products"),m.lazyLoad(),m.recentlyViewedCarousel(e)})):(m.recentlyViewedCarousel(a),m.lazyLoad()))},m.recentlyViewedCarousel=function(t){var e=t.find(".product-list");if(!e.hasClass("no-products")){var i=parseInt(t.data("columns"));e.not(".slick-initialized").slick({rtl:"true"===martfuryData.direction,slidesToShow:i,slidesToScroll:i,arrows:!0,infinite:!1,dots:!0,prevArrow:'<span class="ion-ios-arrow-left slick-prev-arrow"></span>',nextArrow:'<span class="ion-ios-arrow-right slick-next-arrow"></span>',responsive:[{breakpoint:1500,settings:{slidesToShow:8<parseInt(i)?8:i,slidesToScroll:8<parseInt(i)?8:i}},{breakpoint:1200,settings:{slidesToShow:6,slidesToScroll:6}},{breakpoint:800,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:600,settings:{slidesToShow:3,slidesToScroll:3}}]}),e.on("afterChange",function(){m.lazyLoad()})}},m.catalogBanners=function(){var t=p("#mf-catalog-banners");if(!(t.length<=0)){t.data("columns");var e=t.data("autoplay"),i=!1,a=1e3;e=0<e&&(a=e,i=!0),t.not(".slick-initialized").slick({rtl:"true"===martfuryData.direction,slidesToShow:1,slidesToScroll:1,autoplaySpeed:a,autoplay:e,infinite:i,prevArrow:'<span class="icon-chevron-left slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-right slick-next-arrow"></span>'}),t.on("afterChange",function(){m.lazyLoad()})}},m.productsTopCarousel=function(){var t=p(".mf-products-top-carousel");t.length<=0||t.each(function(){var t=p(this).data("columns"),e=p(this).data("autoplay"),i=!1,a=1e3;e=0<e&&(a=e,i=!0),p(this).find("ul.products").not(".slick-initialized").slick({rtl:"true"===martfuryData.direction,slidesToShow:t,slidesToScroll:t,autoplaySpeed:a,autoplay:e,infinite:i,dots:!0,prevArrow:p(this).find(".slick-prev-arrow"),nextArrow:p(this).find(".slick-next-arrow"),responsive:[{breakpoint:992,settings:{slidesToShow:3<parseInt(t)?3:t,slidesToScroll:3<parseInt(t)?3:t}},{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:2}}]}),p(this).on("afterChange",function(){m.lazyLoad()})})},m.collapseTheFilter=function(){void 0!==martfuryData.collapse_catalog_filter&&p(".catalog-sidebar .widget").each(function(){var t=p(this);t.length<=0||("close"==martfuryData.collapse_catalog_filter.status?(t.find(".widget-title").siblings().addClass("closed"),t.find(".widget-title").addClass("non-active")):t.find(".widget-title").addClass("active"),t.on("click",".widget-title",function(t){t.preventDefault(),p(this).siblings().slideToggle(),p(this).siblings().toggleClass("opened"),p(this).toggleClass("active no-active")}),m.searchLayeredNav())})},m.wooTabToggle=function(){void 0!==martfuryData.product_collapse_tab&&p(".mf-woo-tabs .mf-Tabs-panel").each(function(){var t=p(this).attr("id"),e=p("#"+t).find(".tab-title");"close"==martfuryData.product_collapse_tab.status?e.siblings(".tab-content-wrapper").addClass("closed"):e.addClass("active"),e.on("click",function(t){t.preventDefault(),p(this).siblings(".tab-content-wrapper").slideToggle().toggleClass("opened"),p(this).toggleClass("active")})})},m.productCategoriesWidget=function(){var t=p(".mf_widget_product_categories, .wcv.widget_product_categories");t.length<=0||(t.find("ul.children").closest("li").prepend('<span class="cat-menu-close"><i class="icon-chevron-down"></i> </span>'),t.find("li.current-cat-parent, li.current-cat, li.current-cat-ancestor").addClass("opened").children(".children").show(),t.on("click",".cat-menu-close",function(t){t.preventDefault(),p(this).closest("li").children(".children").slideToggle(),p(this).closest("li").toggleClass("opened")}))},m.productTopCategories=function(){var t=p(".mf-catalog-top-categories");t.length<=0||t.on("click",".cat-menu-close",function(t){t.preventDefault(),p(this).closest("li").children(".sub-categories").slideToggle(),p(this).closest("li").toggleClass("opened")})},m.productAttribute=function(){var o="",n="";m.$body.on("mouseover",".mf-swatch-image",function(t){t.preventDefault();var e=p(this).closest("li.product").find(".mf-product-thumbnail").find("img");o=e.attr("src"),n=e.attr("srcset");var i=p(this).find("img").attr("src"),a=p(this).find("img").attr("srcset");e.attr("src",i),a&&e.attr("srcset",a)}).on("mouseout",".mf-swatch-image",function(t){t.preventDefault();var e=p(this).closest("li.product").find(".mf-product-thumbnail").find("img");o&&e.attr("src",o),n&&e.attr("srcset",n)}),m.$body.on("mouseover",".mf-attr-swatches",function(t){t.preventDefault(),p(this).closest("li.product").find(".mf-product-thumbnail").addClass("hover-swatch")}).on("mouseout",".mf-attr-swatches",function(t){t.preventDefault(),p(this).closest("li.product").find(".mf-product-thumbnail").removeClass("hover-swatch")})},m.shopView=function(){m.$body.on("click",".mf-shop-view",function(t){t.preventDefault();var e=p(this),i=e.data("view");e.hasClass("current")||(m.$body.find(".mf-shop-view").removeClass("current"),e.addClass("current"),m.$body.removeClass("shop-view-grid shop-view-list").addClass("shop-view-"+i),document.cookie="shop_view="+i+";domain="+window.location.host+";path=/",p(document.body).trigger("martfury_shop_view_after_change"))}),p(document.body).on("martfury_shop_view_after_change",function(){m.lazyLoad()})},m.singleProductCarousel=function(){var t=m.$body.find(".up-sells ul.products"),e=m.$body.find(".related.products ul.products");if(!(t.length<=0&&e.length<=0)){var i=t.closest(".up-sells").data("columns");t.not(".slick-initialized").slick({rtl:"true"===martfuryData.direction,slidesToShow:parseInt(i),slidesToScroll:parseInt(i),arrows:!0,dots:!0,infinite:!1,prevArrow:'<span class="icon-chevron-left slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-right slick-next-arrow"></span>',responsive:[{breakpoint:1366,settings:{slidesToShow:5<parseInt(i)?5:parseInt(i),slidesToScroll:5<parseInt(i)?5:parseInt(i)}},{breakpoint:1200,settings:{slidesToShow:4<parseInt(i)?4:parseInt(i),slidesToScroll:4<parseInt(i)?4:parseInt(i)}},{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:2}}]}),t.on("afterChange",function(){m.lazyLoad()});var a=e.closest(".related").data("columns");e.not(".slick-initialized").slick({rtl:"true"===martfuryData.direction,slidesToShow:parseInt(a),slidesToScroll:parseInt(a),arrows:!0,dots:!0,infinite:!1,prevArrow:'<span class="icon-chevron-left slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-right slick-next-arrow"></span>',responsive:[{breakpoint:1366,settings:{slidesToShow:5<parseInt(a)?5:parseInt(a),slidesToScroll:5<parseInt(a)?5:parseInt(a)}},{breakpoint:1200,settings:{slidesToShow:4<parseInt(a)?4:parseInt(a),slidesToScroll:4<parseInt(a)?4:parseInt(a)}},{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:2}}]}),e.on("afterChange",function(){m.lazyLoad()})}},m.fbtProduct=function(){if(m.$body.hasClass("single-product")){var o=p("#mf-product-fbt");if(!(o.length<=0)){var n=o.find(".mf-total-price .woocommerce-Price-amount"),r=o.find(".mf_add_to_cart_button"),s=parseFloat(o.find("#mf-data_price").data("price")),c=martfuryData.currency_param.currency_symbol,l=martfuryData.currency_param.thousand_sep,d=martfuryData.currency_param.decimal_sep,u=martfuryData.currency_param.price_decimals,f=martfuryData.currency_param.currency_pos;o.find(".products-list").on("click","a",function(t){t.preventDefault();var e=p(this).data("id");p(this).closest("li").toggleClass("uncheck");var i=parseFloat(p(this).closest("li").find(".s-price").data("price"));p(this).closest("li").hasClass("uncheck")?(o.find("#fbt-product-"+e).addClass("un-active"),s-=i):(o.find("#fbt-product-"+e).removeClass("un-active"),s+=i);var a="0";o.find(".products-list li").each(function(){p(this).hasClass("uncheck")||(a+=","+p(this).find("a").data("id"))}),r.attr("value",a),n.html(function(t){var e=t;if(0<parseInt(u)){for(var i=(t=t.toFixed(u)+"").split("."),a=i[0],o=1<i.length?d+i[1]:"",n=/(\d+)(\d{3})/;n.test(a);)a=a.replace(n,"$1"+l+"$2");e=a+o}switch(f){case"left":return c+e;case"right":return e+c;case"left_space":return c+" "+e;case"right_space":return e+" "+c}}(s))})}}},m.fbtAddToCartAjax=function(){if(m.$body.hasClass("single-product")){var t=p("#mf-product-fbt");t.length<=0||t.on("click",".mf_add_to_cart_button.ajax_add_to_cart",function(t){t.preventDefault();var e=p(this);e.addClass("loading");window.location.href;var i="",a=0;p("#mf-product-fbt").find(".products-list li").each(function(){p(this).hasClass("uncheck")||(0<a&&(i+=","),i+=" "+p(this).find("a").data("title"),a++)});var o={nonce:martfuryData.nonce,product_ids:e.attr("value")},n=wc_add_to_cart_params.wc_ajax_url.toString().replace("%%endpoint%%","martfury_fbt_add_to_cart");p.post(n,o,function(t){"undefined"==typeof wc_add_to_cart_params||"yes"!==wc_add_to_cart_params.cart_redirect_after_add?(p(document.body).trigger("updated_wc_div"),p(document.body).on("wc_fragments_refreshed",function(){e.removeClass("loading")}),m.addedToCartNotice("",i,!1,"success",!0)):window.location=wc_add_to_cart_params.cart_url})})}},m.fbtAddToWishlistAjax=function(){if(m.$body.hasClass("single-product")){var o=p("#mf-product-fbt"),n=0;if(!(o.length<=0)){var r=s();0==r.length&&(o.find(".btn-view-to-wishlist").addClass("showed"),o.find(".btn-add-to-wishlist").addClass("hided")),o.on("click",".btn-add-to-wishlist",function(t){t.preventDefault();var e=p(this);if(0!=(r=s()).length){var i="",a=0;o.find(".products-list li").each(function(){p(this).hasClass("uncheck")||(0<a&&(i+=","),i+=" "+p(this).find("a").data("title"),a++)}),e.addClass("loading"),c(r[n]),m.$body.on("added_to_wishlist",function(){r.length>n?c(r[n]):r.length==n&&(o.find(".btn-view-to-wishlist").addClass("showed"),o.find(".btn-add-to-wishlist").addClass("hided"),m.addedToWishlistNotice("",i,!1,"success",!0),e.removeClass("loading"))})}})}}function s(){var t=[];return o.find("li.product").each(function(){p(this).hasClass("un-active")||p(this).hasClass("product-buttons")||p(this).find(".yith-wcwl-add-to-wishlist").hasClass("exists")||-1==t.indexOf(p(this).data("id"))&&t.push(p(this).data("id"))}),t}function c(t){return o.find(".add-to-wishlist-"+t).find(".yith-wcwl-add-button .add_to_wishlist").trigger("click"),++n}},m.instagramCarousel=function(){var t=m.$body.find(".mf-product-instagram ul.products"),e=t.data("columns"),i=t.data("auto"),a=!1,o=1e3;t.length<1||(i=0<i&&(o=i,a=!0),t.not(".slick-initialized").slick({rtl:"true"===martfuryData.direction,slidesToShow:e,slidesToScroll:e,autoplaySpeed:o,autoplay:i,infinite:a,dots:!0,prevArrow:'<span class="icon-chevron-left slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-right slick-next-arrow"></span>',responsive:[{breakpoint:1200,settings:{slidesToShow:4<parseInt(e)?4:parseInt(e),slidesToScroll:4<parseInt(e)?4:parseInt(e)}},{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:2}}]}),t.on("afterChange",function(){m.lazyLoad()}))},m.productQuickView=function(){var n=p("#mf-quick-view-modal"),r=n.find(".product-modal-content");m.$body.on("click",".mf-product-quick-view",function(t){t.preventDefault();var e=p(this).data("id");r.hide().html(""),n.addClass("loading").removeClass("loaded"),m.openModal(n);var i={nonce:martfuryData.nonce,product_id:e},a=martfuryData.wc_ajax_url.toString().replace("%%endpoint%%","martfury_product_quick_view");p.post(a,i,function(t){r.show().append(t.data),n.removeClass("loading").addClass("loaded");var e=r.find(".woocommerce-product-gallery"),i=p(".variations_form"),a=r.find("form.cart .actions-button"),o=a.find(".buy_now_button");e.removeAttr("style"),e.find("img.lazy").lazyload().trigger("appear"),e.imagesLoaded(function(){e.find(".woocommerce-product-gallery__wrapper").not(".slick-initialized").slick({slidesToShow:1,slidesToScroll:1,infinite:!1,prevArrow:'<span class="icon-chevron-left slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-right slick-next-arrow"></span>'})}),0<o.length&&a.prepend(o),e.find(".woocommerce-product-gallery__image").on("click",function(t){t.preventDefault()}),"undefined"!=typeof wc_add_to_cart_variation_params&&i.each(function(){p(this).wc_variation_form()}),void 0!==p.fn.tawcvs_variation_swatches_form&&i.tawcvs_variation_swatches_form(),m.productVatiation(),"undefined"!=typeof tawcvs&&"yes"===tawcvs.tooltip&&i.find(".swatch").tooltip({classes:{"ui-tooltip":"martfury-tooltip"},tooltipClass:"martfury-tooltip qv-tool-tip",position:{my:"center bottom",at:"center top-13"},create:function(){p(".ui-helper-hidden-accessible").remove()}}),r.find(".compare").tooltip({content:function(){return p(this).html()},classes:{"ui-tooltip":"martfury-tooltip"},tooltipClass:"martfury-tooltip qv-tooltip",position:{my:"center bottom",at:"center top-13"},create:function(){p(".ui-helper-hidden-accessible").remove()}}),r.find("[data-rel=tooltip]").tooltip({classes:{"ui-tooltip":"martfury-tooltip"},tooltipClass:"martfury-tooltip qv-tooltip",position:{my:"center bottom",at:"center top-13"},create:function(){p(".ui-helper-hidden-accessible").remove()}}),m.buyNow(),m.addToCartAjax(),p(document.body).trigger("yith_wcwl_init")})}),n.on("click",".close-modal, .mf-modal-overlay",function(t){t.preventDefault(),m.closeModal(n)})},m.productVatiation=function(){m.$body.on("tawcvs_initialized",function(){p(".variations_form").unbind("tawcvs_no_matching_variations"),p(".variations_form").on("tawcvs_no_matching_variations",function(t,e){t.preventDefault(),p(".variations_form").find(".woocommerce-variation.single_variation").show(),"undefined"!=typeof wc_add_to_cart_variation_params&&p(".variations_form").find(".single_variation").slideDown(200).html("<p>"+wc_add_to_cart_variation_params.i18n_no_matching_variations_text+"</p>")})}),p(".variations_form").on("found_variation.wc-variation-form",function(t,e){var i=p(".mf-product-detail").find(".meta-sku").find(".meta-value");"function"==typeof i.wc_set_content&&"function"==typeof i.wc_reset_content&&(e.sku?i.wc_set_content(e.sku):i.wc_reset_content())}),p(".variations_form td.value").on("change","select",function(){var t=p(this).find("option:selected").text();p(this).closest("tr").find("td.label .mf-attr-value").html(t)})},m.productVariationVideo=function(){var t=p(".variations_form"),a=p(".woocommerce-product-gallery");t.on("found_variation.wc-variation-form",function(t,e){if(a.hasClass("video-first")&&a.hasClass("has-video")){var i=a.find(".mf-video-content").find(".wp-post-image");i.length<1||"#"===i.attr("src")||(e&&e.image&&e.image.src&&1<e.image.src.length?a.addClass("active-first-image"):a.removeClass("active-first-image"))}}),t.on("reset_image",function(t){a.removeClass("active-first-image")})},m.addToCartAjax=function(){if("0"!=martfuryData.add_to_cart_ajax){var s=!1;m.$body.find("form.cart").on("click",".single_add_to_cart_button",function(t){var o=p(this),e=o.closest("form.cart"),n=o.closest(".entry-summary").find(".product_title");if(!o.hasClass("has-buy-now")&&0<e.length&&(t.preventDefault(),!o.hasClass("disabled")&&(o.addClass("loading"),!s))){s=!0;var i=e.serializeArray(),r=window.location.href;""!=o.val()&&i.push({name:o.attr("name"),value:o.val()}),p.ajax({url:window.location.href,method:"post",data:i,error:function(){window.location=r},success:function(t){if(t||(window.location=r),"undefined"==typeof wc_add_to_cart_params||"yes"!==wc_add_to_cart_params.cart_redirect_after_add){p(document.body).trigger("updated_wc_div"),p(document.body).on("wc_fragments_refreshed",function(){o.removeClass("loading")});var e="",i="success",a=!1;0<p(t).find(".woocommerce-message").length&&(e=p(t).find(".woocommerce-message").html()),0<p(t).find(".woocommerce-error").length&&(e=p(t).find(".woocommerce-error").html(),i="error"),0<p(t).find(".woocommerce-info").length&&(e=p(t).find(".woocommerce-info").html()),e||(a=n.find("a").html()),m.addedToCartNotice(e,a,!0,i,!1),s=!1}else window.location=wc_add_to_cart_params.cart_url}})}})}},m.addedToCartNotice=function(t,e,i,a,o){void 0!==martfuryData.added_to_cart_notice&&p.fn.notify&&(!1===e?e=" ":e+=o?" "+martfuryData.added_to_cart_notice.added_to_cart_texts:" "+martfuryData.added_to_cart_notice.added_to_cart_text,t+='<a href="'+martfuryData.added_to_cart_notice.cart_view_link+'" class="btn-button">'+martfuryData.added_to_cart_notice.cart_view_text+"</a>",i&&(t='<div class="message-box">'+t+"</div>"),p.notify.addStyle("martfury",{html:'<div><i class="icon-checkmark-circle message-icon"></i><span data-notify-text/>'+t+'<span class="close icon-cross2"></span> </div>'}),p.notify(e,{autoHideDelay:martfuryData.added_to_cart_notice.cart_notice_auto_hide,className:a,style:"martfury",showAnimation:"fadeIn",hideAnimation:"fadeOut"}))},m.filterAjax=function(){m.$body.hasClass("catalog-ajax-filter")&&(p("#page").addClass("fade-in"),p(document.body).on("price_slider_change",function(t,e){var i=p(".price_slider").closest("form").get(0),a=p(i),o=a.attr("action")+"?"+a.serialize();p(document.body).trigger("martfury_catelog_filter_ajax",o,p(this))}),m.$body.on("click",".mf_widget_product_categories a, .mf-widget-layered-nav a, .widget_rating_filter a, .widget_layered_nav_filters a, ul.woocommerce-ordering a:not(.mf-cancel-order)",function(t){t.preventDefault();var e=p(this).attr("href");p(document.body).trigger("martfury_catelog_filter_ajax",e,p(this))}),p(document.body).on("martfury_catelog_filter_ajax",function(t,e,i){var a=p("#content"),o=p(".page-header");NProgress.start(),p("#page").removeClass("fade-in"),"?"==e.slice(-1)&&(e=e.slice(0,-1)),e=e.replace(/%2C/g,","),history.pushState(null,null,e),p(document.body).trigger("martfury_ajax_filter_before_send_request",[e,i]),m.ajaxXHR&&m.ajaxXHR.abort(),m.ajaxXHR=p.get(e,function(t){a.replaceWith(p(t).find("#content")),o.html(p(t).find(".page-header").html()),p(t).find("#primary-sidebar").length<1&&m.$body.removeClass("mb-filter-active sidebar-content").addClass("full-content"),p(document.body).trigger("martfury_ajax_filter_request_success",[t,e]),p(document.body).trigger("jetpack-lazy-images-load")},"html")}),p(document.body).on("martfury_ajax_filter_request_success",function(){m.lazyLoad(),m.toolTipIcon(),m.searchLayeredNav(),m.catalogBanners(),m.productsTopCarousel(),m.collapseTheFilter(),m.productCategoriesWidget(),m.productAttribute(),m.variationImagesCarousel(),m.productTopCategories(),m.priceSlider(),m.catalogSorting(),NProgress.done(),p("#page").addClass("fade-in")}))},m.productMultiVendors=function(){if(m.$body.hasClass("mobile-version")){var t=p("#tab-singleproductmultivendor");if(!(t.length<1)){var e=t.offset().top-60;p("div.product").on("click",".goto_more_offer_tab",function(t){t.preventDefault(),p("html, body").stop().animate({scrollTop:e},400)})}}},m.stickyProductInfo=function(){if(m.$body.hasClass("sticky-header-info")){var i=p("#sticky-product-info-wapper"),a=p("div.product").find(".woocommerce-tabs"),o=i.outerHeight(!0),n=p("div.product").find(".mf-product-summary"),r=p("div.product").find(".entry-summary").find(".cart"),s=0;i.find(".sc-tabs").on("click","a",function(t){t.preventDefault();var e=p(this).data("tab");if(p(this).closest(".sc-tabs").find("a").removeClass("active"),p(this).addClass("active"),m.$body.hasClass("single-product-layout-3")||m.$body.hasClass("mobile-version")){var i=p("#tab-"+e);0<i.length&&(s=i.offset().top-o-60,p("html, body").stop().animate({scrollTop:s},400))}else 0<a.length&&(a.find("."+e+"_tab a").trigger("click"),s=a.offset().top-o-60,p("html, body").stop().animate({scrollTop:s},400))}),a.find(".wc-tabs").on("click","a",function(t){t.preventDefault();var e=p(this).attr("href");(e=e?e.replace("#",""):e)&&(i.find(".sc-tabs").find("a").removeClass("active"),i.find(".sc-tabs ."+e).addClass("active"))}),i.find(".sc-product-cart").on("click",".button",function(t){if(t.preventDefault(),0<r.length){var e=r.offset().top-o-50;p("html, body").stop().animate({scrollTop:e},400)}});if((m.$body.hasClass("single-product-layout-3")||m.$body.hasClass("mobile-version"))&&m.$window.on("scroll",function(){i.find(".sc-tabs li a").removeClass("active"),i.find(".sc-tabs li").each(function(){var t=p(this).find("a"),e=t.attr("href");p(e).is(":in-viewport(150)")&&t.addClass("active")})}),!(n.length<1)){var c=0;m.$window.on("scroll",function(){if(m.$body.hasClass("mobile-version")){var t=0<p("#topbar").length?p("#topbar").outerHeight(!0):0,e=m.$header.outerHeight(!0);c=e+t}else c=n.offset().top-300;m.$window.scrollTop()>c?i.addClass("viewport"):i.removeClass("viewport")})}}},m.catalogOpenCartMini=function(){p(document.body).on("added_to_cart",function(t,e,i,a){var o=a.attr("data-title");m.addedToCartNotice("",o,!1,"success",!1)})},m.priceSlider=function(){if("undefined"==typeof woocommerce_price_slider_params)return!1;if(p(".catalog-sidebar").find(".widget_price_filter").length<=0)return!1;p("input#min_price, input#max_price").hide(),p(".price_slider, .price_label").show();var t=p(".price_slider_amount #min_price").data("min"),e=p(".price_slider_amount #max_price").data("max"),i=parseInt(t,10),a=parseInt(e,10);""!=p(".price_slider_amount #min_price").val()&&(i=parseInt(p(".price_slider_amount #min_price").val(),10)),""!=p(".price_slider_amount #max_price").val()&&(a=parseInt(p(".price_slider_amount #max_price").val(),10)),p(document.body).on("price_slider_create price_slider_slide",function(t,e,i){"left"===woocommerce_price_slider_params.currency_pos?(p(".price_slider_amount span.from").html(woocommerce_price_slider_params.currency_symbol+e),p(".price_slider_amount span.to").html(woocommerce_price_slider_params.currency_symbol+i)):"left_space"===woocommerce_price_slider_params.currency_pos?(p(".price_slider_amount span.from").html(woocommerce_price_slider_params.currency_symbol+" "+e),p(".price_slider_amount span.to").html(woocommerce_price_slider_params.currency_symbol+" "+i)):"right"===woocommerce_price_slider_params.currency_pos?(p(".price_slider_amount span.from").html(e+woocommerce_price_slider_params.currency_symbol),p(".price_slider_amount span.to").html(i+woocommerce_price_slider_params.currency_symbol)):"right_space"===woocommerce_price_slider_params.currency_pos&&(p(".price_slider_amount span.from").html(e+" "+woocommerce_price_slider_params.currency_symbol),p(".price_slider_amount span.to").html(i+" "+woocommerce_price_slider_params.currency_symbol)),p(document.body).trigger("price_slider_updated",[e,i])}),void 0!==p.fn.slider&&p(".price_slider").slider({range:!0,animate:!0,min:t,max:e,values:[i,a],create:function(){p(".price_slider_amount #min_price").val(i),p(".price_slider_amount #max_price").val(a),p(document.body).trigger("price_slider_create",[i,a])},slide:function(t,e){p("input#min_price").val(e.values[0]),p("input#max_price").val(e.values[1]),p(document.body).trigger("price_slider_slide",[e.values[0],e.values[1]])},change:function(t,e){p(document.body).trigger("price_slider_change",[e.values[0],e.values[1]])}})},m.loginTabs=function(){var a=p(".martfury-login-tabs"),t=a.find(".tabs-nav a"),o=a.find(".tabs-panel");t.on("click",function(t){t.preventDefault();var e=p(this),i=e.parent().index();e.hasClass("active")||(a.find(".tabs-nav a").removeClass("active"),e.addClass("active"),o.removeClass("active"),o.filter(":eq("+i+")").addClass("active"))})},m.productsLoadInfinite=function(){m.$body.hasClass("navigation-type-infinite")&&(m.$window.on("scroll",function(){m.$body.find("#martfury-products-loading").is(":in-viewport")&&m.$body.find("#martfury-products-loading").closest(".next").trigger("click")}).trigger("scroll"),m.$body.on("click",".woocommerce-pagination .next",function(t){t.preventDefault();var e=p(this);if(!e.data("requestRunning")){e.data("requestRunning",!0);var a=e.closest(".woocommerce-pagination"),o=a.prev(".products"),i=e.closest(".next").attr("href");p.get(i,function(t){var e=p(t).find("#mf-shop-content ul.products").children("li.product"),i=p(t).find(".woocommerce-pagination").html();m.$body.hasClass("wcfmmp-store-page")&&(e=p(t).find("#products-wrapper ul.products").children("li.product")),a.html(i),o.append(e),a.find(".next").data("requestRunning",!1),m.toolTipIcon(),m.lazyLoad(),m.variationImagesCarousel(),p(document.body).trigger("martfury_shop_ajax_loading_success"),p(document.body).trigger("yith_wcwl_init"),p(document.body).trigger("jetpack-lazy-images-load")})}}))},m.buyNow=function(){m.$body.find("form.cart").on("click",".buy_now_button",function(t){t.preventDefault();var e=p(this).closest("form.cart");p(this).is(":disabled")?jQuery("html, body").animate({scrollTop:p(this).offset().top-200},900):(e.append('<input type="hidden" value="true" name="buy_now" />'),e.find(".single_add_to_cart_button").addClass("has-buy-now"),e.find(".single_add_to_cart_button").trigger("click"))})},m.footerDropdown=function(){if(m.$body.hasClass("mobile-version")){var t=p("#footer-widgets .widget_nav_menu, #footer-links .widget_nav_menu");t.find(".widget-title").next("div").addClass("clicked"),t.on("click",".widget-title",function(t){t.preventDefault(),p(this).next(".clicked").stop().slideToggle(),p(this).toggleClass("active")})}},m.catalogSorting=function(){if(m.$body.hasClass("mobile-version")){var e=p("#mf-catalog-sorting-mobile");p("#mf-catalog-toolbar").on("click",".woocommerce-ordering",function(t){t.preventDefault(),e.addClass("mf-active")}),e.on("click","a",function(t){e.removeClass("mf-active"),e.find("a").removeClass("active"),p(this).addClass("active")})}},m.filterOnMobile=function(){m.$body.on("click","#mf-filter-mobile",function(t){t.preventDefault(),m.$body.toggleClass("mf-filter-active")}),m.$body.find("#mf-catalog-close-sidebar").on("click",".close-sidebar",function(t){t.preventDefault(),m.$body.removeClass("mf-filter-active")})},m.wcfm=function(){return!(p("#mf_pbt_product_ids").length<=0)&&("undefined"!=typeof $wcfm_product_select_args&&void p("#mf_pbt_product_ids").select2($wcfm_product_select_args))},p(function(){m.init()})}(jQuery);